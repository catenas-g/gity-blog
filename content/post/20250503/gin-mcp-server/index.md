---
title: お前のバックエンドサーバーは30行でMCP Serverになる
description: みんな大好きなフレームワークGinで構築されたAPIサーバーを僅か30行でMCP Serverに進化させます。
date: 2025-05-03T02:26:19+09:00
image:
draft: false
hidden: false
categories:
  - IT技術
tags:
authors: 
  - 筆者名
---

世間の技術の話題といえばLLMでもちきりになってしまいました。QiitaやZennのトレンドはMCP ServerやLLMの話題で溢れかえっています。

私はそんなAIに溢れかえっている今の風潮があまり好きではないのですが、全身逆張りオタクのような[^1]言動ばかりしていては世間に取り残されるのみです。

そんなわけで私もこの流行に便乗し、LLMくんのコミュニケーションツールであるMCP Serverを実装していきます。

## 事前知識のおさらい

### MCPとは? LLMのTypeCと呼ばれる謎の物

まず、「MCPとはなんぞや？」という疑問に答えましょう。

MCP（Model Context Protocol）は、LLMと外部のサービス/アプリケーション間で安定的かつ効率的に通信するために設計された通信プロトコルです。アプリケーション層のプロトコルであり、平たく言えば特定のJSONを返すREST APIサーバーです。

簡単に言えば「LLMと喋るためのUSB Type-Cケーブル」のような役割を果たします。

従来、LLMと外部サービスを繋げようとすると、OpenAI APIのような独自仕様のREST APIやWebSocket、果てはRPCのラッパーなど、実装者ごとにバラバラな通信方法が使われてきました。

MCPはこれを標準化し、「モデルとクライアント及び情報源の間でやり取りするメッセージの形式・流れ・エラー処理」を統一することで、LLMが外部サービスへアクセスしやすくなり、ハルシネーションを減らしたり作業を代行したりできます。

### MCP Serverとは

MCP Serverとは、このMCPプロトコルを話せるサーバー側の実装を指します。具体的には、

- LLMから要求された情報を提供する
- LLMに従って副作用を伴う特定の処理を行う

といった機能を備えたサーバーのことです。

MCPが実装された任意のアプリケーションと任意のモデルが通信できることにより、サービスを自由に接続できるようになります。IFTTTのLLM版というのがわかりやすい表現でしょうか。

とはいえ、MCPの仕様はそこそこ複雑です。

「じゃあ俺が今からMCP Serverの全プロトコル実装を書くぞ！」というのは、なかなか骨が折れます。

## ckanthony/gin-mcpはすごいぞ

MCP Serverが何をするものかというのがわかったところで早速作っていくわけですが、一からこのプロトコルを実装するのはちょっと面倒です。

以下のようなGolang用のライブラリが公開されてはいますが、これらを利用して構築しただけでは世間にあふれかえる記事と全く同じつまらないものになってしまいます。

私のような怠惰な人間はLLMによる効率化のための手間すら面倒なのです。

そんな私にうってつけのライブラリがこちら。[ckanthony/gin-mcp](https://github.com/ckanthony/gin-mcp)です。

このライブラリは名前の通り、みんな大好きGinフレームワークと組み合わせて「超お手軽にMCP Serverを立てられる」ことを目的に作られています。

MCPの中には情報を取得・操作するインターフェースを提供するToolと呼ばれるものがあります。LLMが実際に使えるTool(道具)というわけです。`gin-mcp`はGinで構築されたToolを一瞬で作成できます。

## 実際にやってみた

[^1]: 比喩表現であり私自身はｹｯｼﾃ
